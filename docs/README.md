# README.md

# 文件管理系统

这是一个用于处理文件和文件夹去重、压缩包处理、抄袭检查的Python脚本集合。

## 功能特性

- 📁 文件夹内容比较与去重
- 📦 压缩文件处理与内容分析
- 🔍 文件内容哈希比较
- 🗂️ 嵌套压缩包递归解压
- 📊 详细处理日志记录
- ⚡ 高效文件扫描算法

## 系统要求

- Python 3.6 或更高版本
- 7-Zip (必需)
- WinRAR (可选，作为备用解压工具)

## 安装步骤

1. 克隆或下载本项目到本地
2. 安装Python (如果尚未安装)
3. 安装7-Zip并确保`7z`命令可用
4. (可选) 安装WinRAR

## 项目结构

```
项目根目录/
├── main.py                 # 主入口脚本，按顺序运行所有处理脚本
├── Compressed_package.py   # 压缩文件处理脚本
├── folder.py               # 文件夹处理脚本
├── Files.py                # 普通文件处理脚本
├── unpack.py               # 解压处理脚本
├── Plagiarism_check.py     # 抄袭检查脚本
├── check.py                # 高级去重脚本
├── file_processing.log     # 文件处理日志 (运行时生成)
├── folder_processing.log   # 文件夹处理日志 (运行时生成)
├── archive_processing.log  # 压缩文件处理日志 (运行时生成)
├── file_cleanup.log        # 文件清理日志 (运行时生成)
├── script_runner.log       # 脚本运行日志 (运行时生成)
└── deduplication.log       # 去重日志 (运行时生成)
```

## 使用方法

### 1. 准备文件夹结构

在项目根目录创建以下文件夹：

- `A/` - 源文件夹A (作为比较基准)
- `B/` - 源文件夹B (用于抄袭检查)
- `C/` - 待处理文件夹C
- `D/` - 输出文件夹D (处理结果)
- `E/` - 待处理文件夹E (用于高级去重)
- `F/` - 输出文件夹F (去重结果)

### 2. 放置文件

- 将基准文件放入A和B文件夹
- 将待处理文件放入C和E文件夹

### 3. 运行处理

#### 方式一：运行完整流程
```bash
python main.py
```

#### 方式二：单独运行特定脚本
```bash
# 处理压缩文件
python Compressed_package.py

# 处理文件夹
python folder.py

# 处理普通文件
python Files.py

# 解压文件
python unpack.py

# 抄袭检查
python Plagiarism_check.py

# 高级去重
python check.py
```

## 处理流程说明

1. **压缩文件处理** (Compressed_package.py)
   - 比较A和C文件夹中的压缩文件
   - 删除C中重复的压缩文件
   - 删除C中被A包含的压缩文件

2. **文件夹处理** (folder.py)
   - 比较A和C文件夹中的文件夹
   - 删除C中重复的文件夹
   - 删除C中被A包含的文件夹

3. **普通文件处理** (Files.py)
   - 比较A和C文件夹中的普通文件
   - 通过文件大小和哈希值识别重复文件
   - 删除C中与A重复的文件

4. **解压处理** (unpack.py)
   - 解压C文件夹中的所有压缩包到D文件夹
   - 复制C中非压缩文件到D文件夹
   - 递归处理D文件夹中的嵌套压缩包

5. **抄袭检查** (Plagiarism_check.py)
   - 比较B和D文件夹中的文件
   - 删除D中与B匹配的文件
   - 删除D中的重复文件

6. **高级去重** (check.py)
   - 比较E文件夹中的压缩包和文件夹
   - 识别并移动重复项到F文件夹
   - 识别并移动被包含项到F文件夹

## 注意事项

1. 确保7-Zip已正确安装且`7z`命令可用
2. 处理前请备份重要文件，脚本会删除重复文件
3. 处理大量文件时可能需要较长时间
4. 所有操作都有日志记录，可查看相应日志文件了解处理详情
5. 脚本主要在Windows环境下测试，其他系统可能需要调整

## 自定义配置

各个脚本中的文件夹路径可以修改：

```python
# 在各脚本的底部可以找到路径设置
FOLDER_A = r"A"  # 修改为实际的A文件夹路径
FOLDER_C = r"C"  # 修改为实际的C文件夹路径
# 其他脚本类似
```

## 故障排除

1. 如果遇到"7z未找到"错误，请确保7-Zip已安装并添加到系统PATH
2. 如果遇到权限错误，请以管理员身份运行脚本
3. 如果处理过程中断，可查看相应日志文件了解错误详情

## 许可证

本项目使用MIT许可证。
